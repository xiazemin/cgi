# 基本原理

CGI：通用网关接口（Common Gateway Interface）是一个Web服务器主机提供信息服务的标准接口。通过CGI接口，Web服务器就能够获取客户端提交的信息，转交给服务器端的CGI程序进行处理，最后返回结果给客户端。

组成CGI通信系统的是两部分：一部分是html页面，就是在用户端浏览器上显示的页面。另一部分则是运行在服务器上的Cgi程序。

它们之间的通讯方式如下图：

![](/assets/cgi2.png)

服务器和客户端之间的通信，是客户端的浏览器和服务器端的http服务器之间的HTTP通信，我们只需要知道浏览器请求执行服务器上哪个CGI程序就可以了，其他不必深究细节，因为这些过程不需要程序员去操作。



服务器和CGI程序之间的通讯才是我们关注的。一般情况下，服务器和CGI程序之间是通过标准输入输出来进行数据传递的，而这个过程需要环境变量的协作方可实现。



 



1.   服务器将URL指向一个应用程序



2.   服务器为应用程序执行做准备



3.   应用程序执行，读取标准输入和有关环境变量



4.   应用程序进行标准输出



 



对于Windows系统而言，还可以通过profile文件进行数据传输（如ini文件），但在



这里不做研究。



环境变量在CGI中有着重要的地位！每个CGI程序只能处理一个用户请求，所以在激



活一个CGI程序进程时也创建了属于该进程的环境变量。

